Version 4
SHEET 1 4488 1220
WIRE 416 -80 384 -80
WIRE 448 -80 416 -80
WIRE 1312 -80 528 -80
WIRE 1360 -80 1312 -80
WIRE 1488 -80 1440 -80
WIRE 1520 -80 1488 -80
WIRE 1632 -80 1600 -80
WIRE 1664 -80 1632 -80
WIRE 1776 -80 1744 -80
WIRE 2576 -80 2432 -80
WIRE 1488 16 1488 -80
WIRE 1520 16 1488 16
WIRE 2432 16 2432 -80
WIRE 2464 16 2432 16
WIRE 2576 32 2576 -80
WIRE 2576 32 2528 32
WIRE 2608 32 2576 32
WIRE 2864 32 2864 0
WIRE 416 48 416 -80
WIRE 448 48 416 48
WIRE 592 48 544 48
WIRE 2464 48 2432 48
WIRE 1488 64 1488 16
WIRE 1504 64 1488 64
WIRE 1680 112 1520 112
WIRE 1872 112 1872 64
WIRE 1984 112 1872 112
WIRE 1280 144 1104 144
WIRE 1872 144 1872 112
WIRE 2864 144 2864 112
WIRE 1280 160 1280 144
WIRE 1312 160 1312 -80
WIRE 1488 160 1488 64
WIRE 1520 160 1520 112
WIRE 2864 224 2864 208
WIRE 496 240 496 112
WIRE 1872 256 1872 224
WIRE 1984 256 1872 256
WIRE 1296 272 1296 224
WIRE 1344 272 1296 272
WIRE 1504 272 1504 224
WIRE 1504 272 1440 272
WIRE 1552 272 1536 272
WIRE 1872 288 1872 256
WIRE 1984 288 1872 288
WIRE 1872 304 1872 288
WIRE 1264 336 1232 336
WIRE 1536 336 1536 272
WIRE 1568 336 1536 336
WIRE 2864 336 2864 320
WIRE 1264 352 1264 336
WIRE 1296 352 1296 272
WIRE 1504 352 1504 272
WIRE 1536 352 1536 336
WIRE 1872 400 1872 368
WIRE 496 448 496 320
WIRE 1280 448 1280 416
WIRE 1280 448 496 448
WIRE 1328 448 1280 448
WIRE 1520 448 1520 416
WIRE 1520 448 1488 448
WIRE 1552 448 1520 448
FLAG 1440 272 R
FLAG 1344 272 S
FLAG 1488 448 Q
FLAG 1328 448 !Q
FLAG 1232 336 Q
FLAG 1568 336 !Q
FLAG 592 48 DISCHARGE
FLAG 384 -80 0
FLAG 1520 16 CONTROL_VOLTAGE
FLAG 1264 192 VCC
FLAG 1536 192 0
FLAG 1328 192 0
FLAG 1776 -80 0
FLAG 1472 192 VCC
FLAG 1632 -80 VCC
FLAG 1984 112 DISCHARGE
FLAG 1104 144 TRIGGER
FLAG 1680 112 TRESHOLD
FLAG 1872 -16 VCC
FLAG 1872 400 0
FLAG 1568 64 0
FLAG 2496 64 0
FLAG 2496 0 VCC
FLAG 2432 48 !Q
FLAG 2608 32 VOUT
FLAG 1616 272 VCC
FLAG 1984 256 TRIGGER
FLAG 1984 288 TRESHOLD
FLAG 2864 0 VCC
FLAG 2720 272 VOUT
FLAG 2864 336 0
SYMBOL res 1456 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 5k
SYMBOL res 1616 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 5k
SYMBOL res 544 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL npn 544 112 M270
SYMATTR InstName Q1
SYMATTR Value 2N2222A
SYMBOL voltage 1648 -80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 1856 -32 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL cap 1856 304 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap 1568 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.01µ
SYMBOL res 480 224 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL OpAmps\\UniversalOpamp2 2496 32 R0
SYMATTR InstName U6
SYMBOL cap 1616 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100p
SYMBOL OpAmps\\UniversalOpamp2 1296 192 M90
SYMATTR InstName U1
SYMBOL OpAmps\\UniversalOpamp2 1504 192 M90
SYMATTR InstName U2
SYMBOL res 1856 128 R0
SYMATTR InstName R2
SYMATTR Value 1000k
SYMBOL res 2848 16 R0
SYMATTR InstName R6
SYMATTR Value 150
SYMBOL diode 2848 144 R0
SYMATTR InstName D1
SYMATTR Value DLED2
SYMBOL npn 2800 224 R0
SYMATTR InstName Q2
SYMATTR Value DI_MMBT4401
SYMBOL res 2704 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 150
SYMBOL NOR_2 1280 384 R90
SYMATTR InstName U3
SYMBOL NOR_2 1520 384 R90
SYMATTR InstName U7
TEXT 56 344 Left 2 !.tran 0 10 0 1m
TEXT 88 -472 Left 2 ;https://www.electronics-tutorials.ws/waveforms/555_timer.html\nhttps://en.wikipedia.org/wiki/555_timer_IC#:~:text=The%20555%20timer%20IC%20is,and%20used%20bipolar%20junction%20transistors.\nSimulation based on SA555DR
TEXT 48 -64 Left 2 ;1. GROUND\n2. TRIGGER\n3. OUTPUT (!Q)\n4. RESET (Q)\n5. CONTROL VOLTAGE\n6. TRESHOLD\n7. DISCHARGE\n8.+VCC SUPPLY
TEXT 48 232 Left 2 ;R1 = t/ (1.1*C)
TEXT 1288 152 Left 2 ;1
TEXT 1496 144 Left 2 ;2
TEXT 3160 288 Left 2 !.MODEL DI_MMBT4401  NPN (IS=60.9f NF=1.00 BF=410 VAF=114\n+ IKF=0.364 ISE=25.5p NE=2.00 BR=4.00 NR=1.00\n+ VAR=24.0 IKR=0.900 RE=0.713 RB=2.85 RC=0.285\n+ XTB=1.5 CJE=36.2p VJE=1.10 MJE=0.500 CJC=15.4p VJC=0.300\n+ MJC=0.300 TF=717p TR=121n EG=1.12 )
TEXT 3176 -560 Left 2 !*====================\n*LED Pinout: 1=A, 2=K\n*====================\n \n*Typ INFRARED GaAs LED: Vf=1.2V Vr=5V If=40mA trr=3uS\n.MODEL DLED0 D (IS=93.5P RS=84M N=2.63 BV=5 IBV=10U\n+ CJO=2.97P VJ=.75 M=.333 TT=4.32U)\n \n*Typ RED GaAs LED: Vf=1.7V Vr=4V If=40mA trr=3uS\n.MODEL DLED1 D (IS=93.2P RS=42M N=3.73 BV=4 IBV=10U\n+ CJO=2.97P VJ=.75 M=.333 TT=4.32U)\n \n*Typ RED,GREEN,YELLOW,AMBER GaAs LED: Vf=2.1V Vr=4V If=40mA trr=3uS\n.MODEL DLED2 D (IS=93.1P RS=42M N=4.61 BV=4 IBV=10U\n+ CJO=2.97P VJ=.75 M=.333 TT=4.32U)\n \n*Typ BLUE SiC LED: Vf=3.4V Vr=5V If=40mA trr=3uS\n.MODEL DLED3 D (IS=93.1P RS=42M N=7.47 BV=5 IBV=30U\n+ CJO=2.97P VJ=.75 M=.333 TT=4.32U)\n \n\n*Typ WHITE SiC LED: Vf=3.4V Vr=5V If=40mA trr=3uS\n.MODEL DLED3 D (IS=93.1P RS=42M N=7.47 BV=5 IBV=30U\n+ CJO=2.97P VJ=.75 M=.333 TT=4.32U)
TEXT 3176 -616 Left 2 ;LED parameters taken from: https://forum.allaboutcircuits.com/threads/ltspice-led.104269/, see ericgibbs post
